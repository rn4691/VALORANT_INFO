<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VALORANT :Riot Games</title>
    <link rel="icon" href="icon.jpg" type="image/x-icon">

</head>
<style>
    body {
        padding: 150px 450px;
        background-color: lightyellow;
        background-image: url(back.jpg);
        height: 800px;

        background-repeat: no-repeat;
        background-size: cover;

    }

    .formdesign input {
        width: 1000px;
        padding: 12px 20px;
        border: 3px solid lightseagreen;
        margin: 14px;
        border-radius: 4px;
        font-size: 15px;

    }

    h1 {
        color: #08f0f0;
        text-align: center;
    }

    h3 {
        color: #08f0f0;
        text-align: center;
    }

    .formdesign {
        color: #ddda15;
        font-size: large;

    }

    #showpass {
        width: 10px;
    }

    .button {
        border-radius: 9px;
        width: 100px;
        height: 50px;
        font-size: 25px;
        margin: 22px 20px;
    }
</style>

<body>
    <div>
        <h1>Welcome to ValorantInfo Registration Webpage!</h1>
        <div class="formdesign">
            First Name: <input type="text" name="fname" id="fname" placeholder="Your first name" required>
        </div>
        <br />
        <div class="formdesign">
            Last Name: <input type="text" name="lname" id="lname" placeholder="Your last name" required>
        </div>
        <br />
        <div class="formdesign">
            Email Id: <input type="text" name="email" id="email" onblur="ValidateEmail(this.id)"
                placeholder="Your email" required>
        </div>
        <br />
        <div class="formdesign">
            User Id: <input type="text" name="userid" id="userid" placeholder="Your Gaming Id" required>
        </div>
        <br />
        <div class="formdesign">
            Password: <input type="password" name="password" id="password" placeholder="Your Password"
                onblur="ValidatePassword(this.id)" required>
            <input type="checkbox" id="showpass" onclick="Toggle()">Show Password
        </div>
        <br />
        <div class="formdesign">
            Confirm Password: <input type="password" name="cpassword" id="cpassword" onkeyup="check(this)"
                placeholder="Confirm Your Password" required>
            <error id="alert"></error>

        </div>
        <br />
        <button type="submit" onclick="signup(this)" class="button">SignUp</button>

        <!-- <a href="login.html" target="_blank">

        </a> -->
        <footer>
            <p>
            <h3>Develpoed by:Rishit Nagar &copy; 2021</h3>
            </p>

        </footer>


    </div>
    <script>
        // var user = document.querySelector('#userid');
        // user.addEventListener('keyup', function () {
        //     var u_times = document.querySelector('.u_times');
        //     var u_check = document.querySelector('.u_check');
        //     if (user.value.length == 0 || user.value.length < 8) {
        //         user.style.border = "4px solid red";
        //         // u_times.style.display = 'block';
        //         // u_check.style.display = 'none';

        //     } else {
        //         user.style.border = "4px solid green";
        //         u_times.style.display = 'none';
        //         u_check.style.display = 'block';
        //     }

        // })

        function ValidateEmail(id) {
            var element = document.getElementById(id);
            var regExp = /^[a-zA-Z0-9._]+@[a-zA-Z0-9._]+\.[a-zA-Z]{2,4}$/;
            if (!regExp.test(element.value)) {
                alert("Enter valid email id.");
                element.style.border = "4px solid red";
                return false;
            }
            element.style.border = "4px solid green";
            return true;
        }
        function Toggle() {
            var x = document.getElementById("password");
            if (x.type === "password") {
                x.type = "text";
            } else {
                x.type = "password";
            }
        }



        function ValidatePassword(id) {
            var element = document.getElementById(id);
            var regExp = /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{5,}$/;
            if (!regExp.test(element.value)) {
                alert("Enter valid Password that is more than 8 letters, 1 Capital letter,1 Small letter,1 number and 1 special charcter.");
                element.style.border = "4px solid red";
                return false;
            }
            element.style.border = "4px solid green";
            return true;
        }

        var p = document.getElementById('password');
        var flag = 1; // 1->no error 2-> error
        function check(elem) {
            if (elem.value.length > 0) {
                if (elem.value != p.value) {
                    document.getElementById('alert').innerText = "Confirm Password does not match.";
                    flag = 0;
                } else {
                    document.getElementById('alert').innerText = "";
                    flag = 1;
                }


            } else {
                document.getElementById('alert').innerText = "Please enter Confirm Password."
                flag = 0;
            }

        }
        function Validatecp() {
            if (flag == 1) {
                return true;
            } else {
                return false;
            }
        }

        function signup() {

            var fname = document.getElementById("fname").value;
            var lname = document.getElementById("lname").value;
            var email = document.getElementById("email").value;
            var pass = document.getElementById("password").value;
            var cpass = document.getElementById("cpassword").value;
            var user = document.getElementById("userid").value;

            localStorage.setItem(user, JSON.stringify({
                fname, lname, email, pass1: pass, user1: user
            }))

            // setTimeout(() => {
            //     const temp = localStorage.getItem(user)
            //     console.log(temp)
            // }, 1000)



            document.getElementById("fname").value = "";
            document.getElementById("lname").value = "";
            document.getElementById("email").value = "";
            document.getElementById("password").value = "";
            document.getElementById("cpassword").value = "";




            alert("user registered successfully...!!!");
            window.location.href = "login.html";


        }


    </script>

</body>

</html>